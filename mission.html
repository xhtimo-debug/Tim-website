<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mike's Fact Checker</title>
    <!-- 引入 Tailwind CSS 用于样式 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 引入 React 和 ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <!-- 引入 Babel 用于解析 JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          25% { transform: translateX(-5px); }
          75% { transform: translateX(5px); }
        }
        .animate-shake {
          animation: shake 0.4s ease-in-out;
        }
    </style>
</head>
<body class="bg-gray-100">
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        // --- 图标组件 (SVG) ---
        const CheckCircle = ({ size = 24, strokeWidth = 2, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth={strokeWidth} strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg>
        );
        const XCircle = ({ size = 24, strokeWidth = 2, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth={strokeWidth} strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg>
        );
        const ArrowRight = ({ size = 24, strokeWidth = 2, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth={strokeWidth} strokeLinecap="round" strokeLinejoin="round" className={className}><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg>
        );
        const BookOpen = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path></svg>
        );
        const RefreshCcw = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polyline points="1 4 1 10 7 10"></polyline><polyline points="23 20 23 14 17 14"></polyline><path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"></path></svg>
        );
        const ClipboardCheck = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>
        );

        // --- 主组件 ---
        const MikesFactChecker = () => {
            const [currentMission, setCurrentMission] = useState(0);
            const [feedback, setFeedback] = useState(null); 
            const [missionCleared, setMissionCleared] = useState(false);

            // 任务数据
            const missions = [
                {
                    id: 1,
                    title: "Mission 1: Check the Time",
                    bookSentence: "We wake up early.",
                    correctAnswer: true,
                    color: "bg-blue-50"
                },
                {
                    id: 2,
                    title: "Mission 2: Check the Presents",
                    bookSentence: "We open our presents.",
                    correctAnswer: true, 
                    color: "bg-pink-50"
                },
                {
                    id: 3,
                    title: "Mission 3: Check the Lunch",
                    bookSentence: "We have a big lunch.",
                    correctAnswer: true,
                    color: "bg-orange-50"
                }
            ];

            const handleAnswer = (userAnswer) => {
                if (missionCleared) return; 

                const currentData = missions[currentMission];
                
                if (userAnswer === currentData.correctAnswer) {
                    setFeedback('correct');
                    setMissionCleared(true);
                } else {
                    setFeedback('wrong');
                    setTimeout(() => setFeedback(null), 1000);
                }
            };

            const nextMission = () => {
                if (currentMission < missions.length - 1) {
                    setCurrentMission(currentMission + 1);
                    setFeedback(null);
                    setMissionCleared(false);
                } else {
                    setCurrentMission(missions.length);
                }
            };

            const resetGame = () => {
                setCurrentMission(0);
                setFeedback(null);
                setMissionCleared(false);
            };

            // --- 结束界面 ---
            if (currentMission >= missions.length) {
                return (
                    <div className="min-h-screen bg-gradient-to-b from-teal-400 to-green-500 flex flex-col items-center justify-center p-6 text-white text-center font-sans">
                        <div className="mb-6 animate-bounce">
                           <ClipboardCheck size={80} />
                        </div>
                        <h1 className="text-4xl font-extrabold mb-4 drop-shadow-md">All Checked!</h1>
                        <p className="text-xl mb-10 opacity-90">Everything in the book is True!</p>
                        
                        <button 
                            onClick={resetGame}
                            className="bg-white text-teal-600 px-8 py-4 rounded-full text-lg font-bold shadow-lg hover:scale-105 transition-transform flex items-center gap-2 active:bg-gray-100"
                        >
                            <RefreshCcw size={20} />
                            Start Over
                        </button>
                    </div>
                );
            }

            const activeMission = missions[currentMission];

            // --- 游戏界面 ---
            return (
                <div className={`min-h-screen ${activeMission.color} transition-colors duration-500 flex flex-col items-center justify-center p-4 font-sans`}>
                    
                    {/* 顶部进度条 */}
                    <div className="w-full max-w-md bg-gray-200 rounded-full h-2 mb-6 shadow-inner">
                        <div 
                            className="bg-indigo-500 h-2 rounded-full transition-all duration-500 ease-out" 
                            style={{ width: `${((currentMission) / missions.length) * 100}%` }}
                        ></div>
                    </div>

                    {/* 任务卡片 */}
                    <div className="bg-white p-6 md:p-10 rounded-3xl shadow-xl w-full max-w-md flex flex-col items-center relative border-t-8 border-indigo-500">
                        
                        {/* 标题 */}
                        <h2 className="text-2xl md:text-3xl font-black text-gray-800 mb-6 tracking-tight text-center">
                            {activeMission.title}
                        </h2>

                        {/* 书本句子展示区 */}
                        <div className="w-full bg-indigo-50 rounded-2xl p-6 mb-8 relative border-2 border-indigo-100 flex flex-col items-center">
                            <div className="absolute -top-5 bg-white p-2 rounded-full shadow-sm border border-indigo-100 text-indigo-500">
                               <BookOpen size={28} />
                            </div>
                            
                            <p className="text-xs font-bold text-indigo-400 uppercase tracking-widest mb-3 mt-1">
                                The book says:
                            </p>
                            <p className="text-center text-2xl md:text-3xl font-bold text-indigo-900 leading-snug">
                                "{activeMission.bookSentence}"
                            </p>
                        </div>

                        {/* 按钮区域 */}
                        <div className="grid grid-cols-2 gap-4 w-full mb-6">
                            <button
                                onClick={() => handleAnswer(true)}
                                disabled={missionCleared}
                                className={`
                                    h-20 rounded-xl text-xl font-black shadow-md transform transition-all active:scale-95 flex flex-col items-center justify-center gap-1
                                    ${missionCleared 
                                        ? (activeMission.correctAnswer === true 
                                            ? 'bg-green-500 text-white ring-4 ring-green-200 scale-105 opacity-100' 
                                            : 'bg-gray-100 text-gray-300 opacity-40')
                                        : 'bg-green-100 text-green-600 hover:bg-green-200 border-b-4 border-green-300 active:border-b-0'
                                    }
                                `}
                            >
                                <CheckCircle size={28} strokeWidth={3} />
                                TRUE
                            </button>

                            <button
                                onClick={() => handleAnswer(false)}
                                disabled={missionCleared}
                                className={`
                                    h-20 rounded-xl text-xl font-black shadow-md transform transition-all active:scale-95 flex flex-col items-center justify-center gap-1
                                    ${missionCleared 
                                        ? (activeMission.correctAnswer === false 
                                            ? 'bg-green-500 text-white ring-4 ring-green-200 scale-105 opacity-100' 
                                            : 'bg-gray-100 text-gray-300 opacity-40')
                                        : 'bg-red-100 text-red-600 hover:bg-red-200 border-b-4 border-red-300 active:border-b-0'
                                    }
                                `}
                            >
                                <XCircle size={28} strokeWidth={3} />
                                FALSE
                            </button>
                        </div>

                        {/* 反馈信息 */}
                        <div className="h-10 flex items-center justify-center w-full mb-2">
                           {feedback === 'correct' && (
                             <div className="animate-bounce flex items-center gap-2 text-green-600 text-2xl font-black">
                               <span>Correct!</span>
                               <CheckCircle size={24} strokeWidth={3} />
                             </div>
                           )}
                           {feedback === 'wrong' && (
                             <div className="animate-shake flex items-center gap-2 text-red-500 text-xl font-bold">
                               <XCircle size={24} /> Try Again!
                             </div>
                           )}
                        </div>

                        {/* Next Mission Button */}
                        <button
                            onClick={nextMission}
                            disabled={!missionCleared}
                            className={`w-full py-4 rounded-xl text-lg font-bold flex items-center justify-center gap-2 transition-all duration-300
                                ${missionCleared 
                                    ? 'bg-gray-800 text-white shadow-lg hover:bg-black hover:-translate-y-1' 
                                    : 'bg-gray-100 text-gray-400 cursor-not-allowed'
                                }
                            `}
                        >
                            {currentMission === missions.length - 1 ? 'Finish' : 'Next Mission'} 
                            <ArrowRight strokeWidth={3} size={20} />
                        </button>

                    </div>

                    <div className="mt-8 text-gray-400 text-xs font-medium opacity-60">
                        Classroom Activity • Fact Checker
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<MikesFactChecker />);
    </script>
</body>
</html>
